<!doctype html><html lang=fr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Aperçu et détails techniques de Percona Monitoring and Management DBaaS | Les amis de Percona</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Gérer les bases de données dans Kubernetes clusters grace aux composants de Percona Monitoring and Management PMM DBaaS de Percona XtraDB Cluster PXC et Percona Server pour MongoDB PSMDB"><meta name=generator content="Hugo 0.80.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/ananke/css/main.min.css><link rel="shortcut icon" href=/img/favicon.png type=image/x-icon><meta property="og:title" content="Aperçu et détails techniques de Percona Monitoring and Management DBaaS"><meta property="og:description" content="Gérer les bases de données dans Kubernetes clusters grace aux composants de Percona Monitoring and Management PMM DBaaS de Percona XtraDB Cluster PXC et Percona Server pour MongoDB PSMDB"><meta property="og:type" content="article"><meta property="og:url" content="https://www.lesamisdepercona.fr/posts/article15-aper%C3%A7u-et-d%C3%A9tails-techniques-de-percona-monitoring-and-management-dbaas/"><meta property="og:image" content="https://www.lesamisdepercona.fr/thumbnail/article15-pmm-dbaaS.jpg"><meta property="article:published_time" content="2021-09-10T11:43:01+04:00"><meta property="article:modified_time" content="2021-09-10T11:43:01+04:00"><meta itemprop=name content="Aperçu et détails techniques de Percona Monitoring and Management DBaaS"><meta itemprop=description content="Gérer les bases de données dans Kubernetes clusters grace aux composants de Percona Monitoring and Management PMM DBaaS de Percona XtraDB Cluster PXC et Percona Server pour MongoDB PSMDB"><meta itemprop=datePublished content="2021-09-10T11:43:01+04:00"><meta itemprop=dateModified content="2021-09-10T11:43:01+04:00"><meta itemprop=wordCount content="1672"><meta itemprop=image content="https://www.lesamisdepercona.fr/thumbnail/article15-pmm-dbaaS.jpg"><meta itemprop=keywords content="PMM,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.lesamisdepercona.fr/thumbnail/article15-pmm-dbaaS.jpg"><meta name=twitter:title content="Aperçu et détails techniques de Percona Monitoring and Management DBaaS"><meta name=twitter:description content="Gérer les bases de données dans Kubernetes clusters grace aux composants de Percona Monitoring and Management PMM DBaaS de Percona XtraDB Cluster PXC et Percona Server pour MongoDB PSMDB"><script async src="https://www.googletagmanager.com/gtag/js?id=G-W9SYN1YL24"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-W9SYN1YL24');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-203534013-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-203534013-1');</script></head><body class="ma0 avenir bg-near-white"><header><div class=bg-dark-blue><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib"><img src=/img/logo.png class="w100 mw5-ns" alt="Les amis de Percona"></a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/posts/ title="Articles page">Articles</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="Qui Sommes Nous? page">Qui Sommes Nous?</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/tags/ title="Tags page">Tags</a></li></ul></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://www.lesamisdepercona.fr/posts/article15-aper%C3%A7u-et-d%C3%A9tails-techniques-de-percona-monitoring-and-management-dbaas/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://www.lesamisdepercona.fr/posts/article15-aper%C3%A7u-et-d%C3%A9tails-techniques-de-percona-monitoring-and-management-dbaas/&text=Aper%c3%a7u%20et%20d%c3%a9tails%20techniques%20de%20Percona%20Monitoring%20and%20Management%20DBaaS" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.lesamisdepercona.fr/posts/article15-aper%C3%A7u-et-d%C3%A9tails-techniques-de-percona-monitoring-and-management-dbaas/&title=Aper%c3%a7u%20et%20d%c3%a9tails%20techniques%20de%20Percona%20Monitoring%20and%20Management%20DBaaS" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">Aperçu et détails techniques de Percona Monitoring and Management DBaaS</h1><p class=tracked>By <strong>Francis</strong></p><time class="f6 mv4 dib tracked" datetime=2021-09-10T11:43:01+04:00>September 10, 2021</time>
<span class="f6 mv4 dib tracked">- 8 minutes read</span>
<span class="f6 mv4 dib tracked">- 1672 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-100-l"><p>Database-as-a-Service ( DBaaS ) est une gestion de base de donnée qui n&rsquo;a pas besoin d&rsquo;être installée et maintenue, mais qui est plutôt fournie en tant que service à l&rsquo;utilisateur. Le composant de <a href=https://www.percona.com/software/database-tools/percona-monitoring-and-management>Percona Monitoring and Management</a> (PMM) DBaaS permet aux utilisateurs de CRUD (Create, Read, Update, Delete) <a href=https://www.percona.com/doc/kubernetes-operator-for-pxc/index.html>Percona XtraDB Cluster</a> (PXC) et <a href=https://www.percona.com/doc/kubernetes-operator-for-psmongodb/index.html>Percona Server pour MongoDB</a> (PSMDB) de gérer les bases de données dans Kubernetes clusters.</p><p>PXC et PSMDB implémentent DBaaS au-dessus de Kubernetes (k8s), et PMM DBaaS fournit une interface et une API agréables pour les gérer.</p><p>Déployer Playground avec minikube</p><p>Le moyen le plus simple de jouer et de tester PMM DBaaS est d&rsquo;utiliser minikube . Veuillez suivre <a href=https://minikube.sigs.k8s.io/docs/start/>les guides d&rsquo;installation de</a> minikube . Il est possible que votre distribution de système d&rsquo;exploitation fournisse des packages natifs pour cela, alors vérifiez également cela avec votre gestionnaire de packages.</p><p>Dans les exemples ci-dessous, Linux est utilisé avec le <a href=https://minikube.sigs.k8s.io/docs/drivers/kvm2/>pilote kvm2</a> , donc en plus kvm et libvirt doivent être installés. D&rsquo;autres systèmes d&rsquo;exploitation et pilotes peuvent également être utilisés. Installez également l&rsquo;outil kubectl , il serait plus pratique de l&rsquo;utiliser et minikube configurera kubeconfig afin que le cluster k8s puisse être facilement accessible depuis l&rsquo;hôte.</p><p>Créons un cluster k8s et ajustons les ressources selon les besoins. Les exigences minimales peuvent être trouvées dans la <a href=https://www.percona.com/doc/kubernetes-operator-for-psmongodb/System-Requirements.html>documentation</a> .</p><ul><li>Démarrer le cluster minikube</li></ul><pre><code>$ minikube start --cpus 12 --memory 32G --driver=kvm2
</code></pre><ul><li>Téléchargez le déploiement du serveur PMM pour minikube et déployez-le dans le cluster k8s</li></ul><pre><code>$ curl -sSf -m 30 https://raw.githubusercontent.com/percona-platform/dbaas-controller/main/deploy/pmm-server-minikube.yaml \
| kubectl apply -f -
</code></pre><ul><li>Pour la première fois, le serveur PMM peut mettre un certain temps à initialiser le volume, mais il finira par démarrer</li><li>Voici comment vérifier que le déploiement du serveur PMM est en cours d&rsquo;exécution :</li></ul><pre><code>$ kubectl get deployment
NAME             READY   UP-TO-DATE   AVAILABLE   AGE
pmm-deployment   1/1     1            1           3m40s

$ kubectl get pods
NAME                             READY   STATUS    RESTARTS   AGE
pmm-deployment-d688fb846-mtc62   1/1     Running   0          3m42s

$ kubectl get pv
NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM              STORAGECLASS   REASON   AGE
pmm-data                                   10Gi       RWO            Retain           Available                                              3m44s
pvc-cb3a0a18-b6dd-4b2e-92a5-dfc0bc79d880   10Gi       RWO            Delete           Bound       default/pmm-data   standard                3m44s

$ kubectl get pvc
NAME       STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
pmm-data   Bound    pvc-cb3a0a18-b6dd-4b2e-92a5-dfc0bc79d880   10Gi       RWO            standard       3m45s

$ kubectl get service
NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE
kubernetes   ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP                      6m10s
pmm          NodePort    10.102.228.150   &lt;none&gt;        80:30080/TCP,443:30443/TCP   3m5
</code></pre><ul><li>Exposez les ports du serveur PMM sur l&rsquo;hôte, car cela ouvre également des liens vers l&rsquo;interface utilisateur PMM ainsi que vers le point de terminaison de l&rsquo;API dans le navigateur par défaut.</li></ul><pre><code>$ minikube service pmm
</code></pre><p><em>REMARQUE</em> :</p><p>Pour ne pas trop entrer dans les détails : PV ( kubectl get pv ) et PVC( kubectl get pvc ) sont essentiellement le stockage des données PMM ( répertoire /srv ). Service est un réseau pour PMM.</p><p><em><strong>Attention :</strong></em> ce déploiement de serveur PMM n&rsquo;est pas censé être utilisé en production, mais simplement comme un bac à sable pour tester et jouer, car il commence toujours avec la dernière version de PMM et k8s n&rsquo;est pas encore un environnement pris en charge.</p><p>Configurer PMM DBaaS</p><p>Désormais, le <a href=https://www.percona.com/doc/percona-monitoring-and-management/2.x/using/platform/dbaas.html>tableau de bord PMM DBaaS</a> peut être utilisé et un cluster k8s peut être ajouté, DB ajoutée et configurée.</p><p><img src=/posts/article15/img01.png alt=image01></p><p><em>REMARQUE:</em></p><p>Pour activer la fonctionnalité PMM DBaaS, vous devez soit transmettre un environnement spécial ( <a href=https://github.com/percona-platform/dbaas-controller/blob/main/deploy/pmm-server-minikube.yaml#L73>ENABLE_DBAAS=1</a> au conteneur, soit l&rsquo;activer dans les paramètres (capture d&rsquo;écran suivante).</p><p>Pour permettre à PMM de gérer le cluster k8s, il doit être configuré. Consultez la <a href=https://www.percona.com/doc/percona-monitoring-and-management/2.x/setting-up/server/dbaas.html>documentation</a> , mais voici quelques étapes courtes </p><ul><li>Définir Public Address adresse à PMM sur la page Configuration -> Settings -> Advanced Settings</li></ul><p><img src=/posts/article15/img02.png alt=image02></p><ul><li>Obtenez la configuration k8s ( kubeconfig ) et copiez-la pour l&rsquo;enregistrement :</li></ul><pre><code>kubectl config view --flatten --minify

</code></pre><ul><li>Enregistrez la configuration qui a été copiée sur le tableau de bord du cluster DBaaS Kubernetes :</li></ul><p><img src=/posts/article15/img03.png alt=image03></p><p>Entrons dans les détails sur ce que tout cela signifie.</p><p>L&rsquo;adresse publique est propagée aux conteneurs pmm -client qui sont exécutés dans le cadre des déploiements PXC et PSMDB pour surveiller les services de base de données. Les conteneurs pmm -client exécutent pmm -agent, qui doit se connecter au serveur PMM. Il utilise l&rsquo;adresse publique. Le nom DNS pmm est défini par Service dans le fichier pmm -server- minikube.yaml pour notre déploiement de serveur PMM.</p><p>Jusqu&rsquo;à présent, PMM DBaaS utilise <a href=https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/#merging-kubeconfig-files>kubeconfig</a> pour accéder à l&rsquo;API k8s afin de pouvoir gérer les opérateurs PXC et PSMDB. Le fichier kubeconfig et les informations du cluster k8s sont <a href=https://github.com/percona/pmm-managed/blob/PMM-2.0/models/kubernetes_helpers.go#L110>stockés</a> en toute sécurité dans la base de données interne du serveur PMM.</p><p>PMM DBaaS n&rsquo;a pas pu déployer les opérateurs dans le cluster k8s pour le moment, mais cette <a href=https://jira.percona.com/browse/PMM-7915>fonctionnalité</a> sera implémentée très prochainement. Et c&rsquo;est pourquoi le statut de l&rsquo;opérateur sur le tableau de bord du cluster Kubernetes affiche des conseils sur la façon de les installer.</p><p>Quels sont les opérateurs et pourquoi sont-ils nécessaires ? Ceci est très bien défini dans la <a href=https://www.percona.com/software/percona-kubernetes-operators>documentation</a> . Pour faire court, ils sont au cœur de DBaaS qui déploient et configurent des bases de données à l&rsquo;intérieur du cluster k8s.</p><p>Les opérateurs eux-mêmes sont des logiciels complexes qui doivent être correctement démarrés et configurés pour déployer des bases de données. C&rsquo;est là que PMM DBaaS est utile, pour configurer beaucoup de choses pour l&rsquo;utilisateur final et fournir une interface utilisateur pour choisir quelle base de données doit être créée, configurée ou supprimée.</p><p>Déployer PSMDB avec DBaaS</p><p>Allons déployer l' <a href=https://www.percona.com/doc/percona-monitoring-and-management/2.x/setting-up/server/dbaas.html#install-percona-operators-in-minikube>opérateur PSMDB</a> et BDs étape par étape pour les vérifier en détail.</p><ul><li>Déployer l’opérateur PSMDB</li></ul><pre><code>curl -sSf -m 30 https://raw.githubusercontent.com/percona/percona-server-mongodb-operator/v1.7.0/deploy/bundle.yaml \
| kubectl apply -f -
</code></pre><ul><li>Voici comment vérifier que l&rsquo;opérateur a été créé :</li></ul><pre><code>$ kubectl get deployment
NAME                              READY   UP-TO-DATE   AVAILABLE   AGE
percona-server-mongodb-operator   1/1     1            1           46h
pmm-deployment                    1/1     1            1           24h


$ kubectl get pods
NAME                                               READY   STATUS    RESTARTS   AGE
percona-server-mongodb-operator-586b769b44-hr7mg   1/1     Running   2          46h
pmm-deployment-7fcb579576-hwf76                    1/1     Running   1          24h
</code></pre><p>Maintenant, on voit sur le tableau de bord du cluster PMM DBaaS Kubernetes que l' opérateur MongoDB est installé.</p><p><img src=/posts/article15/img04.png alt=image04></p><p>API PMM</p><p>Toutes les REST APIs peuvent être découvertes via <a href=https://www.percona.com/doc/percona-monitoring-and-management/2.x/details/api.html>Swagger</a> ; il est exposé sur les deux ports (30080 et 30443 dans le cas de minikube ) et accessible en ajoutant /swagger à l&rsquo;adresse du serveur PMM. Il est recommandé d&rsquo;utiliser https (30443 port ), et par exemple, l&rsquo;URL pourrait ressembler à ceci : https://192.168.39.202:30443/swagger</p><p>Comme DBaaS est une fonctionnalité en cours de développement, remplacez /swagger.json par /swagger-dev.json et appuyez sur le bouton Explorer</p><p><img src=/posts/article15/img05.png alt=image05></p><p>Désormais, toutes les API peuvent être vues et même exécutées.</p><p>Essayons-le! D’abord Authorize, puis recherchez /v1/management/DBaaS/Kubernetes/List et appuyez sur Try it out et Execute. Il y aura un exemple de curl ainsi qu&rsquo;une réponse à la requête REST API POST. L&rsquo;exemple curl peut également être utilisé à partir de la ligne de commande :</p><pre><code>$ curl -kX POST &quot;https://192.168.39.202:30443/v1/management/DBaaS/Kubernetes/List&quot; -H  &quot;accept: application/json&quot; -H  &quot;authorization: Basic YWRtaW46YWRtaW4=&quot; -H  &quot;Content-Type: application/json&quot; -d &quot;{}&quot;
{
  &quot;kubernetes_clusters&quot;: [
    {
      &quot;kubernetes_cluster_name&quot;: &quot;minikube&quot;,
      &quot;operators&quot;: {
        &quot;xtradb&quot;: {
          &quot;status&quot;: &quot;OPERATORS_STATUS_NOT_INSTALLED&quot;
        },
        &quot;psmdb&quot;: {
          &quot;status&quot;: &quot;OPERATORS_STATUS_OK&quot;
        }
      },
      &quot;status&quot;: &quot;KUBERNETES_CLUSTER_STATUS_OK&quot;
    }
  ]
}
</code></pre><p><img src=/posts/article15/img06.png alt=image06></p><p>Créer DB et une étude approfondie</p><p>PMM Server se compose de différents composants, et pour la fonctionnalité DBaaS, voici les principaux :</p><ul><li>Grafana UI avec les tableaux de bord DBaaS communique avec pmm-managed via REST API pour afficher l&rsquo;état actuel et fournir une interface utilisateur</li><li>pmm -managed agit comme une passerelle REST et détient kubeconfig et communique avec dbaas -controller via gRPC</li><li>dbaas-controller met en œuvre DBaaS caractéristiques, communique avec K8s, et expose gRPC interface pour pmm-managed</li></ul><p>Grafana UI est ce que les utilisateurs voient, et maintenant, lorsque les opérateurs sont installés, l&rsquo;utilisateur peut créer l&rsquo;instance MongoDB. Procédons comme suit .</p><ul><li>Accédez à la page DBaaS -> DB Cluster et appuyez sur le lien Create DB Cluster</li><li>Choisissez vos options et appuyez sur le bouton Create Cluster</li></ul><p><img src=/posts/article15/img07.png alt=image07></p><p>Il dispose d&rsquo;options plus avancées pour configurer les ressources allouées au cluster :</p><p><img src=/posts/article15/img08.png alt=image08></p><p>Comme on le voit, le cluster a été créé et peut être manipulé. Voyons maintenant en détail ce qui s&rsquo;est passé en dessous.</p><p><img src=/posts/article15/img09.png alt=image09></p><p>Lorsque l&rsquo;utilisateur appuie sur le bouton Create Cluster, Grafana UI POSTS /v1/management/DBaaS/PSMDBCluster/Create request to pmm-managed. pmm-managed reçoit la demande et l’envoie via gRPC aux dbaas-Controller avec kubeconfig.</p><p>dbaas -controller reçoit les requêtes, et avec la connaissance de la structure de l&rsquo;opérateur (Custom Resources/CRD), il prépare <a href=https://www.percona.com/doc/kubernetes-operator-for-psmongodb/operator.html>CR</a> avec tous les paramètres nécessaires pour créer un MongoDB cluster. Après avoir rempli toutes <a href=https://github.com/percona-platform/dbaas-controller/blob/main/service/k8sclient/k8sclient.go#L927>les structures nécessaires</a> , dbaas -controller convertit CR en fichier yaml et l&rsquo;applique avec la commande kubectl apply -f . kubectl est préconfiguré avec le fichier <em>kubeconf</em> (qui a été transmis par pmm -managed à partir de sa DB) pour communiquer avec le cluster approprié, et le fichier <em>kubeconf</em> est temporairement créé et supprimé immédiatement après la requête.</p><p>La même chose se produit lorsque certains paramètres changent ou que dbaas-controller obtient des paramètres du cluster k8s.</p><p>Essentiellement, le dbaas-controller automatise toutes les étapes pour remplir les CR avec les paramètres corrects, vérifier que tout fonctionne correctement et renvoie des détails sur les clusters créés. L&rsquo;interface kubectl est utilisée pour plus de simplicité mais elle est sujette AU changement avant GA, très probablement en fonction de l'<a href=https://github.com/kubernetes/client-go>API k8s Go</a> .   </p><p>Resumé</p><p>Dans l&rsquo;ensemble, PMM Server DBaaS offre une expérience transparente à l&rsquo;utilisateur pour déployer  DB clusters sur Kubernetes avec une interface utilisateur simple et agréable sans avoir besoin de connaître les éléments internes des opérateurs. En déployant les clusters PXC et PSMDB, il configure également les agents et les exportateurs PMM, ainsi toutes les données de surveillance sont immédiatement présentes dans le serveur PMM.</p><p><img src=/posts/article15/img10.png alt=image10></p><p>Accédez au PMM Dashboard -> MongoDB -> MongoDB Overview et consultez également les données de surveillance MongoDB, les nœuds d&rsquo;exploration et la surveillance des services, qui sont préconfigurés à l&rsquo;aide de la fonctionnalité DBaaS.</p><p>Essayez-le, soumettez vos commentaires et <a href=https://discord.gg/JDedgsgM>discutez avec nous</a> , nous serions heureux de vous entendre!</p><p>PS</p><p>N&rsquo;oubliez pas d&rsquo;arrêter et/ou de supprimer votre cluster minikube s&rsquo;il n&rsquo;est pas utilisé :</p><ul><li>Arrêter le cluster minikube , pour ne pas utiliser de ressources (pourrait être démarré avec start)</li></ul><pre><code>$ minikube stop
</code></pre><ul><li>Si un cluster n&rsquo;est plus nécessaire, supprimez le cluster minikube</li></ul><pre><code>$ minikube delete
</code></pre><p>Source : <a href=https://www.percona.com/blog/2021/05/19/percona-monitoring-and-management-dbaas-overview-and-technical-details/>Percona Blog</a></p><ul class=pa0><li class=list><a href=/tags/pmm class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">PMM</a></li></ul><div class="mt6 instapaper_ignoref"></div></div></article></main><footer class="bg-dark-blue bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://www.lesamisdepercona.fr/>&copy; Les amis de Percona 2022</a><div></div></div></footer></body></html>