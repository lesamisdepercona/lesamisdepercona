<!doctype html><html lang=fr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL | Les amis de Percona</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Voici le resultat de nos recherches sur les performances de Graviton, en le comparant avec d'autres processeurs (Intel et AMD) directement pour MySQL."><meta name=generator content="Hugo 0.80.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/ananke/css/main.min.css><link rel="shortcut icon" href=/img/favicon.png type=image/x-icon><meta property="og:title" content="Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL"><meta property="og:description" content="Voici le resultat de nos recherches sur les performances de Graviton, en le comparant avec d'autres processeurs (Intel et AMD) directement pour MySQL."><meta property="og:type" content="article"><meta property="og:url" content="https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql/"><meta property="og:image" content="https://www.lesamisdepercona.fr/thumbnail/2022/article01-01.jpg"><meta property="article:published_time" content="2022-01-06T00:00:00+00:00"><meta property="article:modified_time" content="2022-01-06T00:00:00+00:00"><meta itemprop=name content="Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL"><meta itemprop=description content="Voici le resultat de nos recherches sur les performances de Graviton, en le comparant avec d'autres processeurs (Intel et AMD) directement pour MySQL."><meta itemprop=datePublished content="2022-01-06T00:00:00+00:00"><meta itemprop=dateModified content="2022-01-06T00:00:00+00:00"><meta itemprop=wordCount content="1823"><meta itemprop=image content="https://www.lesamisdepercona.fr/thumbnail/2022/article01-01.jpg"><meta itemprop=keywords content="MySQL,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.lesamisdepercona.fr/thumbnail/2022/article01-01.jpg"><meta name=twitter:title content="Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL"><meta name=twitter:description content="Voici le resultat de nos recherches sur les performances de Graviton, en le comparant avec d'autres processeurs (Intel et AMD) directement pour MySQL."><script async src="https://www.googletagmanager.com/gtag/js?id=G-W9SYN1YL24"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-W9SYN1YL24');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-203534013-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-203534013-1');</script></head><body class="ma0 avenir bg-near-white"><header><div class=bg-dark-blue><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib"><img src=/img/logo.png class="w100 mw5-ns" alt="Les amis de Percona"></a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/posts/ title="Articles page">Articles</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="Qui Sommes Nous? page">Qui Sommes Nous?</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/tags/ title="Tags page">Tags</a></li></ul></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql/&text=Comparer%20la%20performance%20de%20Graviton%20%28ARM%29%20vs%20celle%20d%27Intel%20et%20AMD%20pour%20MySQL" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql/&title=Comparer%20la%20performance%20de%20Graviton%20%28ARM%29%20vs%20celle%20d%27Intel%20et%20AMD%20pour%20MySQL" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL</h1><p class=tracked>By <strong>Francis</strong></p><time class="f6 mv4 dib tracked" datetime=2022-01-06T00:00:00Z>January 6, 2022</time>
<span class="f6 mv4 dib tracked">- 9 minutes read</span>
<span class="f6 mv4 dib tracked">- 1823 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-100-l"><p>Récemment, AWS a présenté sa propre architecture CPU sur ARM pour les solutions serveur.</p><p>C&rsquo;était Graviton. En conséquence, ils mettent à jour certaines lignes de leurs instances EC2 avec le nouveau suffixe « g » (par exemple, m6g.small, r5g.nano, etc.). Dans leur examen et présentation, AWS a montré des résultats impressionnants qu&rsquo;il est plus rapide dans certains benchmarks jusqu&rsquo;à 20%. D&rsquo;un autre côté, certains critiques ont déclaré que Graviton n&rsquo;affichait aucun résultat significatif et, dans certains cas, affichait moins de performances qu&rsquo;Intel.</p><p>Nous avons décidé de l&rsquo;étudier et de faire nos recherches sur les performances de Graviton, en le comparant avec d&rsquo;autres processeurs (Intel et AMD) directement pour MySQL.</p><h2 id=avertissement>Avertissement</h2><ol><li>Le test est conçu pour être lié au processeur uniquement, nous allons donc utiliser un test en lecture seule et nous assurer qu&rsquo;il n&rsquo;y a pas d&rsquo;activité d&rsquo;E/S pendant le test.</li><li>Les tests ont été effectués sur des instances EC2 m5.* (Intel), m5a.* (AMD), m6g.* (Graviton) dans la région US-EAST-1. (Liste des EC2 voir en annexe).  </li><li>Le suivi a été réalisé avec <a href=https://www.percona.com/software/database-tools/percona-monitoring-and-management>Percona Monitoring and Management</a> (PMM).  </li><li>Système d&rsquo;exploitation : Ubuntu 20.04 TLS.</li><li>Outil de chargement (sysbench) et base de données cible (MySQL) installés sur la même instance EC2.</li><li>MySQL – 8.0.26-0 – installé à partir des packages officiels.</li><li>Outil de chargement : sysbench — 1.0.18</li><li>innodb_buffer_pool_size=80 % de la RAM disponible.</li><li>La durée du test est de cinq minutes pour chaque thread, puis de 90 secondes avant la prochaine itération.</li><li>Les tests ont été exécutés trois fois (pour lisser les valeurs aberrantes ou avoir des résultats plus reproductibles), puis nous prenons les résultats moyens pour les graphiques. </li><li>Nous allons utiliser des scénarios de simultanéité élevée pour les scénarios où le nombre de threads serait supérieur au nombre de vCPU. Et scénario faiblement simultané avec des scénarios où le nombre de threads serait inférieur ou égal à un nombre de vCPU sur EC2.</li><li>Scripts pour reproduire les résultats sur notre GitHub.</li></ol><h2 id=cas-de-test>Cas de test</h2><h3 id=prérequis>Prérequis:</h3><ol><li>Créez une base de données avec 10 tables et 10 000 000 lignes par table</li></ol><pre><code>sysbench oltp_read_only --threads=10 --mysql-user=sbtest --mysql-password=sbtest --table-size=10000000 --tables=10 --db-driver=mysql --mysql-db=sbtest prepare

</code></pre><ol start=2><li>Chargez toutes les données dans LOAD_buffer</li></ol><pre><code>sysbench oltp_read_only --time=300 --threads=10 --table-size=1000000 --mysql-user=sbtest --mysql-password=sbtest --db-driver=mysql --mysql-db=sbtest run

</code></pre><h3 id=test>Test:</h3><p>Exécuter en boucle pour le même scénario mais un THREAD de simultanéité différent (1,2,4,8,16,32,64,128) sur chaque EC2.</p><pre><code>sysbench oltp_read_only --time=300 --threads=${THREAD} --table-size=100000 --mysql-user=sbtest --mysql-password=sbtest --db-driver=mysql --mysql-db=sbtest run

</code></pre><h3 id=résultats>Résultats:</h3><p>L&rsquo;examen des résultats a été divisé en 3 parties :</p><ol><li>pour les « petits » EC2 avec 2, 4 et 8 vCPU</li><li>pour EC2 « moyen » avec 16 et 32 vCPU</li><li>pour &ldquo;grand&rdquo; EC2 avec 48 et 64 vCPU </li></ol><p>Les divisions « petite », « moyenne » et « grande » ne sont que des noms synthétiques pour une meilleure évaluation. Elles dépendent de la quantité de vCPu par EC2.</p><p>Il y aurait quatre graphiques pour chaque test :</p><ol><li>Débit (requêtes par seconde) qu&rsquo;EC2 pourrait effectuer pour chaque scénario (nombre de threads)</li><li>Latence 95 percentile qu&rsquo;EC2 pourrait effectuer pour chaque scénario (nombre de threads) </li><li>Comparaison relative Graviton et Intel</li><li>Comparaison absolue de Graviton et Intel</li></ol><p>La validation de toute la charge que va au CPU, et non aux DISK I/O, a également été effectuée à l&rsquo;aide de PMM ( <a href=https://www.percona.com/doc/percona-monitoring-and-management/2.x/index.html>Percona Monitoring and Management</a> ). </p><p><img src=/posts/2022/article01/part01/img01.jpeg alt=image01></p><p><em>Pic 0.1 - Surveillance du système d&rsquo;exploitation pendant toutes les étapes de test</em></p><p>A partir de l&rsquo;image 0.1, nous pouvons voir qu&rsquo;il n&rsquo;y avait pas d&rsquo;activité DISK I/O pendant les tests, seulement une activité CPU. L&rsquo;activité principale avec les disques était pendant la phase de création de la base de données.</p><h2 id=résultat-pour-ec2-avec-2-4-et-8-vcpu>Résultat pour EC2 avec 2, 4 et 8 vCPU</h2><p><img src=/posts/2022/article01/part01/img02.png alt=image02></p><p><em>Photo 1.1. Débit (requêtes par seconde) pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part01/img03.png alt=image03></p><p><em>Photo 1.2. Latences (95 percentile) pendant le test pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em> </p><p><img src=/posts/2022/article01/part01/img04.png alt=image04></p><p><em>Photo 1.3. Comparaison en pourcentage du débit des processeurs Graviton et Intel (requêtes par seconde) pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part01/img05.png alt=image05></p><p><em>Photo 1.4. Comparaison des nombres Graviton et Intel CPU en débit (requêtes par seconde) pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p>APERÇU:</p><ol><li>AMD a les plus grandes latences dans tous les scénarios et pour toutes les instances EC2. Nous ne répéterons pas cette information dans tous les aperçus futurs, et c&rsquo;est la raison pour laquelle nous l&rsquo;excluons de la comparaison avec d&rsquo;autres processeurs en pourcentage et en valeurs numériques (dans les graphiques 1.3 et 1.4, etc.).</li><li>Les instances avec deux et quatre vCPU Intel présentent un certain avantage pour moins de 10 % dans tous les scénarios.</li><li>Cependant, une instance avec 8 vCPU Intel montre un avantage uniquement sur les scénarios avec des threads qui ont une quantité inférieure ou égale de vCPU sur EC2.</li><li>Sur EC2 avec huit vCPU, Graviton a commencé à montrer un avantage. Il montre de bons résultats dans les scénarios où le nombre de threads est supérieur à la quantité de vCPU sur EC2. Il augmente jusqu&rsquo;à 15 % dans les scénarios à forte concurrence avec 64 et 128 threads, qui sont 8 et 16 fois plus importants que la quantité de vCPU disponible pour l&rsquo;exécution.</li><li>Graviton commence à montrer un avantage sur EC2 avec huit vCPU et avec des scénarios où les threads dépassent la quantité de vCPU. Cette fonctionnalité apparaîtrait dans tous les scénarios futurs - plus de charge que le processeur, meilleur résultat qu&rsquo;elle montre.</li></ol><h2 id=résultat-pour-ec2-avec-16-et-32-vcpu>Résultat pour EC2 avec 16 et 32 vCPU</h2><p><img src=/posts/2022/article01/part01/img06.png alt=image06></p><p><em>Photo 2.1. Débit (requêtes par seconde) pour EC2 avec 16 et 32 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part01/img07.png alt=image07></p><p><em>Photo 1.2. Latences (95 percentile) lors du test pour EC2 avec 16 et 32 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part01/img08.png alt=image08></p><p><em>Photo 2.3. Comparaison en pourcentage du débit des CPU Graviton et Intel (requêtes par seconde) pour EC2 avec 16 et 32 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part01/img09.png alt=image09></p><p><em>Photo 2.4. Comparaison des nombres Graviton et Intel CPU en débit (requêtes par seconde) pour EC2 avec 16 et 32 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><h3 id=aperçu>APERÇU:</h3><ol><li>Dans les scénarios avec la même charge pour ec2 avec 16 et 32 vCPU, Graviton continue d&rsquo;avoir des avantages lorsque la quantité de threads est plus importante que la quantité de vCPU disponible sur les instances.</li><li>Graviton montre un avantage allant jusqu&rsquo;à 10 % dans les scénarios à forte concurrence. Cependant, Intel a jusqu&rsquo;à 20 % dans les scénarios de faible concurrence.</li><li>Dans les scénarios à forte concurrence, Graviton pourrait montrer une différence incroyable dans le nombre de transactions (lecture) par seconde jusqu&rsquo;à 30 000 TPS.</li></ol><h2 id=résultat-pour-ec2-avec-48-et-64-vcpu>Résultat pour EC2 avec 48 et 64 vCPU</h2><p><img src=/posts/2022/article01/part01/img10.png alt=image10></p><p><em>Photo 3.1. Débit (requêtes par seconde) pour EC2 avec 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em>  </p><p><img src=/posts/2022/article01/part01/img11.png alt=image11></p><p><em>Photo 3.2. Latences (95 percentile) lors du test pour EC2 avec 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em> </p><p><img src=/posts/2022/article01/part01/img12.png alt=image12></p><p><em>Photo 3.3. Comparaison en pourcentage des CPU Graviton et Intel en débit (requêtes par seconde) pour EC2 avec 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part01/img13.png alt=image13></p><p><em>Photo 3.4. Comparaison des nombres Graviton et Intel CPU en débit (requêtes par seconde) pour EC2 avec 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><h3 id=aperçu-1>APERÇU:</h3><ol><li>Il semble qu&rsquo;Intel présente un avantage significatif dans la plupart des scénarios lorsque son nombre de threads est inférieur ou égal à la quantité de vCPU. Il semble qu&rsquo;Intel soit vraiment bon pour ce genre de tâche. Quand il a du vCPU supplémentaire, ce serait mieux, et cet avantage pourrait aller jusqu&rsquo;à 35%.</li><li>Cependant, Graviton affiche des résultats exceptionnels lorsque la quantité de threads est supérieure à la quantité de vCPU. Il montre un avantage de 5 à 14% sur Intel.</li><li>En chiffres réels, l&rsquo;avantage de Graviton pourrait atteindre 70 000 transactions par seconde par rapport aux performances d&rsquo;Intel dans les scénarios à forte concurrence.</li></ol><h2 id=aperçu-des-résultats-totaux>Aperçu des résultats totaux</h2><p><img src=/posts/2022/article01/part01/img14.png alt=image14></p><p><em>photo 4.2. Latences (95 percentile) lors du test pour EC2 avec 2,4,8,16,32,48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part01/img15.png alt=image15></p><p><em>photo 4.3. Comparaison en pourcentage des CPU Graviton et Intel en débit (requêtes par seconde) pour EC2 avec 2,4,8,16,32,48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part01/img16.png alt=image16></p><p><em>Photo 4.4. Comparaison des nombres Graviton et Intel CPU en débit (requêtes par seconde) pour EC2 avec 2,4,8,16,32,48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><h3 id=conclusion>Conclusion</h3><ol><li>Les processeurs ARM affichent de meilleurs résultats sur EC2 avec plus de vCPU et avec une charge plus élevée, en particulier dans les scénarios à forte concurrence.</li><li>En raison des petites instances EC2 et de la faible charge, les processeurs ARM affichent des performances moins impressionnantes. Nous ne pouvons donc pas voir ses avantages par rapport à Intel EC2</li><li>Intel est toujours le leader dans le domaine des scénarios à faible concurrence. Et c&rsquo;est définitivement gagnant sur EC2 avec une petite quantité de vCPU.</li><li>AMD ne montre pas de résultats compétitifs dans tous les cas.</li></ol><h2 id=conclusion-finale>Conclusion Finale</h2><ol><li>AMD — nous avons beaucoup de questions sur les instances EC2 sur AMD. Ce serait donc une bonne idée de vérifier ce qui se passait sur cet EC2 pendant le test et de vérifier les performances générales des processeurs sur ces EC2.</li><li>Nous avons découvert que dans certaines conditions spécifiques, Intel et Graviton pouvaient se concurrencer. Mais le revers de la médaille est économique. Qu&rsquo;est-ce qui est moins cher à utiliser dans chaque situation ? Le prochain article en parlera.</li><li>Ce serait une bonne idée d&rsquo;essayer d&rsquo;utiliser EC2 avec Graviton pour une vraie base de données à forte concurrence.</li><li>Il semble qu&rsquo;il faut exécuter des scénarios supplémentaires avec 256 et 512 threads pour vérifier l&rsquo;hypothèse selon laquelle Graviton pourrait mieux fonctionner lorsque les threads sont supérieurs à vCPU.</li></ol><p><a href=https://www.percona.com/blog/comparing-graviton-arm-performance-to-intel-and-amd-for-mysql-part-2/>Découvrez la deuxième partie de nos tests !</a></p><h2 id=annexe>ANNEXE:##</h2><p>Liste des EC2 utilisés dans la recherche :</p><table><thead><tr><th style=text-align:left>Type de processeur</th><th style=text-align:left>EC2</th><th style=text-align:left>Prix EC2 par heure (USD)</th><th style=text-align:left>vCPU</th><th style=text-align:left>RAM</th></tr></thead><tbody><tr><td style=text-align:left>Graviton</td><td style=text-align:left>m6g.large</td><td style=text-align:left>0,077</td><td style=text-align:left>2</td><td style=text-align:left>8 Go</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>m6g.xlarge</td><td style=text-align:left>0,154</td><td style=text-align:left>4</td><td style=text-align:left>16 GB</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>m6g.2xlarge</td><td style=text-align:left>0,308</td><td style=text-align:left>8</td><td style=text-align:left>32 Go</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>m6g.4xlarge</td><td style=text-align:left>0,616</td><td style=text-align:left>16</td><td style=text-align:left>64 Go</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>m6g.8xlarge</td><td style=text-align:left>1.232</td><td style=text-align:left>32</td><td style=text-align:left>128 Go</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>m6g.12xlarge</td><td style=text-align:left>1,848</td><td style=text-align:left>48</td><td style=text-align:left>192 Go</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>m6g.16xlarge</td><td style=text-align:left>2.464</td><td style=text-align:left>64</td><td style=text-align:left>256 Go</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>m5.large</td><td style=text-align:left>0,096</td><td style=text-align:left>2</td><td style=text-align:left>8 Go</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>m5.xlarge</td><td style=text-align:left>0,192</td><td style=text-align:left>4</td><td style=text-align:left>16 GB</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>m5.2xlarge</td><td style=text-align:left>0,384</td><td style=text-align:left>8</td><td style=text-align:left>32 Go</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>m5.4xlarge</td><td style=text-align:left>0,768</td><td style=text-align:left>16</td><td style=text-align:left>64 Go</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>m5.8xlarge</td><td style=text-align:left>1.536</td><td style=text-align:left>32</td><td style=text-align:left>128 Go</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>m5.12xlarge</td><td style=text-align:left>2.304</td><td style=text-align:left>48</td><td style=text-align:left>192 Go</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>m5.16xlarge</td><td style=text-align:left>3.072</td><td style=text-align:left>64</td><td style=text-align:left>256 Go</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>m5a.large</td><td style=text-align:left>0,086</td><td style=text-align:left>2</td><td style=text-align:left>8 Go</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>m5a.xlarge</td><td style=text-align:left>0,172</td><td style=text-align:left>4</td><td style=text-align:left>16 GB</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>m5a.2xlarge</td><td style=text-align:left>0,344</td><td style=text-align:left>8</td><td style=text-align:left>32 Go</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>m5a.4xlarge</td><td style=text-align:left>0,688</td><td style=text-align:left>16</td><td style=text-align:left>64 Go</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>m5a.8xlarge</td><td style=text-align:left>1,376</td><td style=text-align:left>32</td><td style=text-align:left>128 Go</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>m5a.12xlarge</td><td style=text-align:left>2.064</td><td style=text-align:left>48</td><td style=text-align:left>192 Go</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>m5a.16xlarge</td><td style=text-align:left>2,752</td><td style=text-align:left>64</td><td style=text-align:left>256 Go</td></tr></tbody></table><h3 id=mycnf>my.cnf</h3><pre><code>my.cnf:
[mysqld]
ssl=0
performance_schema=OFF
skip_log_bin
server_id = 7

# general
table_open_cache = 200000
table_open_cache_instances=64
back_log=3500
max_connections=4000
 join_buffer_size=256K
 sort_buffer_size=256K

# files
innodb_file_per_table
innodb_log_file_size=2G
innodb_log_files_in_group=2
innodb_open_files=4000

# buffers
innodb_buffer_pool_size=${80%_OF_RAM}
innodb_buffer_pool_instances=8
innodb_page_cleaners=8
innodb_log_buffer_size=64M

default_storage_engine=InnoDB
innodb_flush_log_at_trx_commit  = 1
innodb_doublewrite= 1
innodb_flush_method= O_DIRECT
innodb_file_per_table= 1
innodb_io_capacity=2000
innodb_io_capacity_max=4000
innodb_flush_neighbors=0
max_prepared_stmt_count=1000000 
bind_address = 0.0.0.0
[client]

</code></pre><p>Source : <a href=https://www.percona.com/blog/comparing-graviton-performance-to-arm-and-intel-for-mysql/>Percona Blog</a></p><ul class=pa0><li class=list><a href=/tags/mysql class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">MySQL</a></li></ul><div class="mt6 instapaper_ignoref"></div></div></article></main><footer class="bg-dark-blue bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://www.lesamisdepercona.fr/>&copy; Les amis de Percona 2022</a><div></div></div></footer></body></html>