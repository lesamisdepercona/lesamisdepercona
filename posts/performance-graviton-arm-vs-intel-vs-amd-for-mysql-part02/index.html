<!doctype html><html lang=fr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL | Les amis de Percona</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Voici la deuxième partie de resultat de nos recherches sur les performances de Graviton, en le comparant avec d'autres processeurs (Intel et AMD) directement pour MySQL."><meta name=generator content="Hugo 0.80.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/ananke/css/main.min.css><link rel="shortcut icon" href=/img/favicon.png type=image/x-icon><meta property="og:title" content="Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL"><meta property="og:description" content="Voici la deuxième partie de resultat de nos recherches sur les performances de Graviton, en le comparant avec d'autres processeurs (Intel et AMD) directement pour MySQL."><meta property="og:type" content="article"><meta property="og:url" content="https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql-part02/"><meta property="og:image" content="https://www.lesamisdepercona.fr/thumbnail2022/article01-02.jpg"><meta property="article:published_time" content="2022-01-06T00:00:00+00:00"><meta property="article:modified_time" content="2022-01-06T00:00:00+00:00"><meta itemprop=name content="Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL"><meta itemprop=description content="Voici la deuxième partie de resultat de nos recherches sur les performances de Graviton, en le comparant avec d'autres processeurs (Intel et AMD) directement pour MySQL."><meta itemprop=datePublished content="2022-01-06T00:00:00+00:00"><meta itemprop=dateModified content="2022-01-06T00:00:00+00:00"><meta itemprop=wordCount content="1729"><meta itemprop=image content="https://www.lesamisdepercona.fr/thumbnail2022/article01-02.jpg"><meta itemprop=keywords content="MySQL,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.lesamisdepercona.fr/thumbnail2022/article01-02.jpg"><meta name=twitter:title content="Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL"><meta name=twitter:description content="Voici la deuxième partie de resultat de nos recherches sur les performances de Graviton, en le comparant avec d'autres processeurs (Intel et AMD) directement pour MySQL."><script async src="https://www.googletagmanager.com/gtag/js?id=G-W9SYN1YL24"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-W9SYN1YL24');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-203534013-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-203534013-1');</script></head><body class="ma0 avenir bg-near-white"><header><div class=bg-dark-blue><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib"><img src=/img/logo.png class="w100 mw5-ns" alt="Les amis de Percona"></a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/posts/ title="Articles page">Articles</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="Qui Sommes Nous? page">Qui Sommes Nous?</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/tags/ title="Tags page">Tags</a></li></ul></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql-part02/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql-part02/&text=Comparer%20la%20performance%20de%20Graviton%20%28ARM%29%20vs%20celle%20d%27Intel%20et%20AMD%20pour%20MySQL" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql-part02/&title=Comparer%20la%20performance%20de%20Graviton%20%28ARM%29%20vs%20celle%20d%27Intel%20et%20AMD%20pour%20MySQL" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">Comparer la performance de Graviton (ARM) vs celle d'Intel et AMD pour MySQL</h1><p class=tracked>By <strong>Francis</strong></p><time class="f6 mv4 dib tracked" datetime=2022-01-06T00:00:00Z>January 6, 2022</time>
<span class="f6 mv4 dib tracked">- 9 minutes read</span>
<span class="f6 mv4 dib tracked">- 1729 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-100-l"><p>Récemment, nous avons <a href=https://www.lesamisdepercona.fr/posts/performance-graviton-arm-vs-intel-vs-amd-for-mysql/>publié la première partie de la recherche comparant Graviton (ARM) avec AMD et Intel CPU sur AWS</a> . Dans la première partie, nous avons sélectionné des instances EC2 à usage général avec les mêmes configurations (quantité de vCPU). L&rsquo;objectif principal était de voir la tendance et de faire une comparaison générale des types de processeurs sur la plate-forme AWS uniquement pour MySQL. Nous ne nous sommes pas fixé pour objectif de comparer les performances de différents types de processeurs. Notre expertise réside dans le réglage des performances MySQL. Nous partageons la recherche « telle quelle » avec tous les scripts, et toute personne intéressée peut la réexécuter et la reproduire. Tous les scripts, journaux bruts et tracés supplémentaires sont disponibles sur GitHub : ( <a href=https://github.com/Percona-Lab-results/2021_10_arm_cpu_comparison_c5>2021_10_arm_cpu_comparison_c5</a> , <a href=https://github.com/Percona-Lab-results/2021_10_arm_cpu_comparison_c5/blob/83bcff23ada279ff9a09890b79e2f6cca2b31573/report/oltp_test_result.csv>csv_file_with_all_data</a> ).</p><p>Nous avons été heureux de voir les réactions de nos lecteurs du blog Percona à notre recherche, et nous sommes ouverts à tout commentaire. Si quelqu&rsquo;un a des idées sur la mise à jour de notre méthodologie, nous serions heureux de les corriger.</p><p>Cet article est une continuation de la recherche basée sur notre intérêt pour l&rsquo;EC2 optimisé pour le calcul (et, bien sûr, parce que nous avons vu que notre public voulait le voir). Aujourd&rsquo;hui, nous allons parler de (AWS) Compute Optimized EC2 : C5, C5a, C6g (liste complète en annexe).</p><p>La prochaine fois, nous partagerons nos découvertes sur l&rsquo;efficacité économique des instances m5 et c5.</p><h2 id=courte-conclusion>Courte conclusion :</h2><ol><li>Dans la plupart des cas, pour les instances c5, c5a et c6g, Intel affiche de meilleures performances de débit pour les transactions de lecture MySQL.</li><li>Parfois, Intel pouvait montrer un avantage significatif - plus de près de 100 000 rps que les autres processeurs.</li><li>Si nous pouvions dire en quelques mots : les instances c5 (avec Intel) sont meilleures dans leur catégorie que les autres instances c5a, c6g (en performances). Et cet avantage commence à partir de 5% et peut aller jusqu&rsquo;à 40% par rapport aux autres processeurs. </li></ol><h3 id=détails-et-avis-de-non-responsabilité>Détails et avis de non-responsabilité :</h3><ol><li>Les tests ont été effectués sur des instances C5.* (Intel) , C5a.* (AMD),  C6g.*(Graviton) EC2 dans la région US-EAST-1. (voir la liste des EC2 en annexe.)</li><li>Le suivi a été fait avec PMM</li><li>Système d&rsquo;exploitation : Ubuntu 20.04 TLS </li><li>Outil de chargement (sysbench) et base de données cible (MySQL) installés sur la même instance EC2</li><li>Oracle MySQL Community Server — 8.0.26-0 — installé à partir des packages officiels.</li><li>Outil de chargement : sysbench — 1.0.18 </li><li>innodb_buffer_pool_size=80% de RAM disponible</li><li>La durée du test est de 5 minutes pour chaque thread, puis de 90 secondes avant la prochaine itération.</li><li>Les tests ont été exécutés 3 fois (pour lisser les valeurs aberrantes / pour avoir des résultats plus reproductibles). Ensuite, les résultats ont été moyennés pour les graphiques.</li><li>Nous allons utiliser une définition de scénario « à forte concurrence » pour les scénarios où le nombre de threads serait supérieur au nombre de vCPU. Et définition de scénario « faiblement simultané » avec des scénarios où le nombre de threads serait inférieur ou égal à un nombre de vCPU sur EC2.</li><li>Nous comparons le comportement de MySQL sur la même classe d&rsquo;EC2, pas les performances du processeur.</li></ol><h2 id=cas-de-test>Cas de test:</h2><h3 id=prérequis>Prérequis:</h3><p>\1. Créez une base de données avec 10 tables et 10 000 000 lignes par table</p><pre><code>sysbench oltp_read_only --threads=10 --mysql-user=sbtest --mysql-password=sbtest --table-size=10000000 --tables=10 --db-driver=mysql --mysql-db=sbtest prepare

</code></pre><p>\2. Chargez toutes les données dans LOAD_buffer</p><pre><code>sysbench oltp_read_only --time=300 --threads=10 --table-size=1000000 --mysql-user=sbtest --mysql-password=sbtest --db-driver=mysql --mysql-db=sbtest run
</code></pre><p>\3. Test :</p><p>Exécuter en boucle pour le même scénario mais une simultanéité différente THREAD (1,2,4,8,16,32,64,128) sur chaque EC2</p><pre><code>sysbench oltp_read_only --time=300 --threads=${THREAD} --table-size=100000 --mysql-user=sbtest --mysql-password=sbtest --db-driver=mysql --mysql-db=sbtest run
</code></pre><h2 id=résultats>Résultats:</h2><p>L&rsquo;examen des résultats a été divisé en trois parties :</p><ol><li>Pour les « petits » EC2 avec 2, 4 et 8 processeurs virtuels</li><li>Pour EC2 &ldquo;moyen&rdquo; avec 16 et pour EC2 &ldquo;grand&rdquo; avec 48 et 64 vCPU (AWS n&rsquo;a pas de C5 EC2 avec 64 vCPU)</li><li>Pour tous les scénarios pour voir l&rsquo;image globale.</li></ol><p>Il y aurait quatre graphiques pour chaque test :</p><ol><li>Débit (requêtes par seconde) qu&rsquo;EC2 pourrait effectuer pour chaque scénario (nombre de threads).</li><li>Latence 95 percentile qu&rsquo;EC2 pourrait effectuer pour chaque scénario (nombre de threads)</li><li>Comparaison relative entre Graviton et Intel, Graviton et AMD.</li><li>Comparaison absolue entre Graviton et Intel, Graviton et AMD.</li></ol><p>La validation que toute la charge va au CPU, et non aux DISK I/O, a également été effectuée à l&rsquo;aide de PMM ( <a href=https://www.percona.com/doc/percona-monitoring-and-management/2.x/index.html>Percona Monitoring and Management</a> ). </p><p><img src=/posts/2022/article01/part02/img01.jpeg alt=image01></p><p><em>Photo 0.1. Surveillance du système d&rsquo;exploitation pendant toutes les étapes de test (l&rsquo;image est par exemple)</em></p><h2 id=résultat-pour-ec2-avec-2-4-et-8-vcpu>Résultat pour EC2 avec 2, 4 et 8 vCPU :</h2><p><img src=/posts/2022/article01/part02/img02.png alt=image02></p><p><em>Photo 1.1. Débit (requêtes par seconde) pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img03.png alt=image03></p><p><em>Photo 1.2. Latences (95 percentile) lors du test pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img04.png alt=image04></p><p><em>Photo 1.3.1 Comparaison des pourcentages entre Graviton et CPU Intel en débit (requêtes par seconde) pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img05.png alt=image05></p><p><em>Photo 1.3.2 Comparaison en pourcentage du débit des CPU Graviton et AMD (requêtes par seconde) pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em> </p><p><img src=/posts/2022/article01/part02/img06.png alt=image06></p><p><em>Photo 1.4.1. Comparaison des nombres Graviton et Intel CPU en débit (requêtes par seconde) pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img07.png alt=image07></p><p><em>Photo 1.4.2. Comparaison des nombres Graviton et Intel CPU en débit (requêtes par seconde) pour EC2 avec 2, 4 et 8 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><h3 id=aperçu>APERÇU:</h3><ol><li>Sur la base du tracé 1.1, nous pourrions dire que EC2 avec Intel a un avantage absolu par rapport à Graviton et AMD.</li><li>Cet avantage dans la plupart des scénarios oscille entre 10 % et 20 %.</li><li>En chiffres, c&rsquo;est plus de 3 000 requêtes par seconde. </li><li>Il existe un scénario où Graviton devient meilleur EC2 avec 8 vCPU (c6g.2xlarge). Mais l&rsquo;avantage est si minime (près de 2 %) qu&rsquo;il pourrait s&rsquo;agir d&rsquo;une erreur statistique. On ne peut donc pas dire que les prestations sont pertinentes.</li></ol><h2 id=résultat-pour-ec2-avec-16-48-et-64-vcpu->Résultat pour EC2 avec 16, 48 et 64 vCPU :</h2><p><img src=/posts/2022/article01/part02/img08.png alt=image08></p><p><em>Photo 2.1. Débit (requêtes par seconde) pour EC2 avec 16, 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img09.png alt=image09></p><p><em>Photo 2.2. Latences (95 percentile) lors du test pour EC2 avec 16, 48 et 64 vCPU pour les scénarios avec 1,2 4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img10.png alt=image10></p><p><em>Photo 2.3.1 Comparaison des pourcentages Graviton et CPU Intel en débit (requêtes par seconde) pour EC2 avec 16, 48 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img11.png alt=image11></p><p><em>Photo 2.3.2 Comparaison en pourcentage du débit des CPU Graviton et AMD (requêtes par seconde) pour EC2 avec 16, 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img12.png alt=image12></p><p><em>Photo 2.4.1. Comparaison des nombres Graviton et Intel CPU en débit (requêtes par seconde) pour EC2 avec 16, 48 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img13.png alt=image13></p><p><em>Photo 2.4.2. Comparaison des nombres Graviton et CPU AMD en débit (requêtes par seconde) pour EC2 avec 16, 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><h2 id=aperçu-1>APERÇU:</h2><ol><li>Le tracé 2.1 montre qu&rsquo;il a un avantage sur les autres vCPU dans nos conditions (il n&rsquo;y a pas d&rsquo;EC2 avec 64 vCPU d&rsquo;Intel pour avoir une image complète de comparaison). </li><li>Cet avantage pourrait être proche de 20 % pour EC2 avec 16 vCPU et jusqu&rsquo;à 40 % pour EC2 avec 48 vCPU. Cependant, il est possible de voir que cet avantage diminue avec l&rsquo;augmentation du nombre de threads.</li><li>En nombres réels, Intel pourrait exécuter jusqu&rsquo;à 100 000 transactions de lecture de plus que les autres processeurs (tracé 2.1. , tracé 2.4.1).</li><li>D&rsquo;un autre côté, dans un scénario haute performance, nous pourrions voir un petit avantage (3 %) de Graviton. Cependant, il est si petit qu&rsquo;il pourrait s&rsquo;agir à nouveau d&rsquo;une erreur statistique (graphique 2.3.1.). </li><li>Dans la plupart des cas, Graviton montre de meilleurs résultats qu&rsquo;AMD (tracé 2.1, tracé 2.3.2, tracé 2.4.2).</li></ol><h2 id=vue-densemble-des-résultats>Vue d&rsquo;ensemble des résultats :</h2><p><img src=/posts/2022/article01/part02/img14.png alt=image14></p><p><em>Photo 3.1. Débit (requêtes par seconde) pour EC2 avec 2, 4, 8, 16, 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img15.png alt=image15></p><p><em>Photo 3.2. Latences (95 percentile) lors du test pour EC2 avec 2, 4, 8, 16, 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img16.png alt=image16></p><p><em>Photo 3.3.1. Comparaison en pourcentage des CPU Graviton et Intel en débit (requêtes par seconde) pour EC2 avec 2, 4, 8, 16 et 48 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img17.png alt=image17></p><p><em>Photo 3.3.2. Comparaison en pourcentage du débit des CPU Graviton et AMD (requêtes par seconde) pour EC2 avec 2, 4, 8, 16, 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img18.png alt=image18></p><p><em>Photo 3.4.1. Comparaison des nombres Graviton et Intel CPU en débit (requêtes par seconde) pour EC2 avec 2, 4, 8, 16 ET 48 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><p><img src=/posts/2022/article01/part02/img19.png alt=image19></p><p><em>Photo 3.4.2. Comparaison des nombres Graviton et CPU AMD en débit (requêtes par seconde) pour EC2 avec 2, 4, 8, 16, 48 et 64 vCPU pour les scénarios avec 1,2,4,8,16,32,64,128 threads</em></p><h2 id=conclusion-finale>Conclusion Finale</h2><ol><li>Nous comparons les instances ec2 (c5, c5a, c6g) optimisées pour le calcul de la plate-forme AWS et leur comportement pour MySQL.</li><li>La question de l&rsquo;efficacité économique de tous ces EC2 reste ouverte. Nous ferons des recherches sur ce sujet et répondrons à cette question un peu plus tard.</li><li>Dans ces tests, AMD ne fournit aucun résultat compétitif pour MySQL. Il est possible que dans d&rsquo;autres tâches, il puisse montrer des résultats bien meilleurs et compétitifs.</li></ol><h3 id=annexes>ANNEXES:</h3><p>Liste des EC2 utilisés dans la recherche :</p><table><thead><tr><th style=text-align:left>Type de CPU</th><th style=text-align:left>EC2</th><th style=text-align:left>Quantité de vCPU</th><th style=text-align:left>Mémoire GB</th><th style=text-align:left>Prix EC2 par heure (USD)</th></tr></thead><tbody><tr><td style=text-align:left>AMD</td><td style=text-align:left>c5a.large</td><td style=text-align:left>2</td><td style=text-align:left>4</td><td style=text-align:left>0,077</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>c5a.xlarge</td><td style=text-align:left>4</td><td style=text-align:left>8</td><td style=text-align:left>0,154</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>c5a.2xlarge</td><td style=text-align:left>8</td><td style=text-align:left>16</td><td style=text-align:left>0,308</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>c5a.4xlarge</td><td style=text-align:left>16</td><td style=text-align:left>32</td><td style=text-align:left>0,616</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>c5a.12xlarge</td><td style=text-align:left>48</td><td style=text-align:left>96</td><td style=text-align:left>1,848</td></tr><tr><td style=text-align:left>AMD</td><td style=text-align:left>c5a.16xlarge</td><td style=text-align:left>64</td><td style=text-align:left>128</td><td style=text-align:left>2.464</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>c5.large</td><td style=text-align:left>2</td><td style=text-align:left>4</td><td style=text-align:left>0,085</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>c5.xlarge</td><td style=text-align:left>4</td><td style=text-align:left>8</td><td style=text-align:left>0,170</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>c5.2xlarge</td><td style=text-align:left>8</td><td style=text-align:left>16</td><td style=text-align:left>0,340</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>c5.4xlarge</td><td style=text-align:left>16</td><td style=text-align:left>32</td><td style=text-align:left>0,680</td></tr><tr><td style=text-align:left>Intel</td><td style=text-align:left>c5.12xlarge</td><td style=text-align:left>48</td><td style=text-align:left>96</td><td style=text-align:left>2.040</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>c6g.large</td><td style=text-align:left>2</td><td style=text-align:left>4</td><td style=text-align:left>0,068</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>c6g.xlarge</td><td style=text-align:left>4</td><td style=text-align:left>8</td><td style=text-align:left>0,136</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>c6g.2xlarge</td><td style=text-align:left>8</td><td style=text-align:left>16</td><td style=text-align:left>0,272</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>c6g.4xlarge</td><td style=text-align:left>16</td><td style=text-align:left>32</td><td style=text-align:left>0,544</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>c6g.12xlarge</td><td style=text-align:left>48</td><td style=text-align:left>96</td><td style=text-align:left>1.632</td></tr><tr><td style=text-align:left>Graviton</td><td style=text-align:left>c6g.16xlarge</td><td style=text-align:left>64</td><td style=text-align:left>128</td><td style=text-align:left>2.176</td></tr></tbody></table><h3 id=mycnf>my.cnf:</h3><pre><code>[mysqld]
ssl=0
performance_schema=OFF
skip_log_bin
server_id = 7

# general
table_open_cache = 200000
table_open_cache_instances=64
back_log=3500
max_connections=4000
 join_buffer_size=256K
 sort_buffer_size=256K

# files
innodb_file_per_table
innodb_log_file_size=2G
innodb_log_files_in_group=2
innodb_open_files=4000

# buffers
innodb_buffer_pool_size=${80%_OF_RAM}
innodb_buffer_pool_instances=8
innodb_page_cleaners=8
innodb_log_buffer_size=64M

default_storage_engine=InnoDB
innodb_flush_log_at_trx_commit  = 1
innodb_doublewrite= 1
innodb_flush_method= O_DIRECT
innodb_file_per_table= 1
innodb_io_capacity=2000
innodb_io_capacity_max=4000
innodb_flush_neighbors=0
max_prepared_stmt_count=1000000 
bind_address = 0.0.0.0
[client]
</code></pre><p>Source : <a href=https://www.percona.com/blog/comparing-graviton-arm-performance-to-intel-and-amd-for-mysql-part-2/>Percona Blog</a></p><ul class=pa0><li class=list><a href=/tags/mysql class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">MySQL</a></li></ul><div class="mt6 instapaper_ignoref"></div></div></article></main><footer class="bg-dark-blue bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://www.lesamisdepercona.fr/>&copy; Les amis de Percona 2022</a><div></div></div></footer></body></html>